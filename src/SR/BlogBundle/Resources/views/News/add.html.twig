{% extends 'SRBlogBundle::modal.html.twig' %}

{% block modal_title %}
    Ajouter un article
{% endblock %}

{% block modal_body %}
{{ form(form) }}

{#<div class="well">#}
  {#{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}#}

    {#&#123;&#35; Les erreurs générales du formulaire. &#35;&#125;#}
    {#{{ form_errors(form) }}#}

    {#<div class="form-group">#}
      {#&#123;&#35; Génération du label. &#35;&#125;#}
      {#{{ form_label(form.title, "Titre de l'article", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}#}

      {#&#123;&#35; Affichage des erreurs pour ce champ précis. &#35;&#125;#}
      {#{{ form_errors(form.title) }}#}

      {#<div class="col-sm-4">#}
        {#&#123;&#35; Génération de l'input. &#35;&#125;#}
        {#{{ form_widget(form.title, {'attr': {'class': 'form-control'}}) }}#}
      {#</div>#}
    {#</div>#}

    {#&#123;&#35; Champ content pour le contenu de l'article &#35;&#125;#}
    {#<div class="form-group">#}
      {#{{ form_label(form.content, "Contenu de l'article", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}#}
      {#{{ form_errors(form.title) }}#}
      {#<div class="col-sm-9">#}
        {#{{ form_widget(form.content, {'attr': {'cols': '100', 'rows': '30'} }) }}#}
      {#</div>#}
    {#</div>#}

  {#&#123;&#35; Génération du label + error + widget pour la Date de l'article&#35;&#125;#}
	{#<div class="form-group">#}
      {#&#123;&#35; Génération du label. &#35;&#125;#}
      {#{{ form_label(form.newsDate, "Date de publication", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}#}

      {#&#123;&#35; Affichage des erreurs pour ce champ précis. &#35;&#125;#}
      {#{{ form_errors(form.newsDate) }}#}

      {#<div class="col-sm-4">#}
        {#&#123;&#35; Génération de l'input. &#35;&#125;#}
        {#{{ form_widget(form.newsDate, {'attr': {'class': 'form-control'}}) }}#}
      {#</div>#}
    {#</div>#}

  {#&#123;&#35; Génération du label + error + widget pour newsStatus&#35;&#125;#}
	{#<div class="form-group">#}
      {#&#123;&#35; Génération du label. &#35;&#125;#}
      {#{{ form_label(form.newsStatus, "Publier", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}#}

      {#&#123;&#35; Affichage des erreurs pour ce champ précis. &#35;&#125;#}
      {#{{ form_errors(form.newsStatus) }}#}

      {#<div class="col-sm-4">#}
        {#&#123;&#35; Génération de l'input. &#35;&#125;#}
        {#{{ form_widget(form.newsStatus, {'attr': {'class': 'form-control'}}) }}#}
      {#</div>#}
    {#</div>#}

  {#&#123;&#35; Génération du label + error + widget pour les catégories de l'article&#35;&#125;#}
  {#<div class="form-group">#}
      {#&#123;&#35; Génération du label. &#35;&#125;#}
      {#{{ form_label(form.newsCategories, "Catégories", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}#}

      {#&#123;&#35; Affichage des erreurs pour ce champ précis. &#35;&#125;#}
      {#{{ form_errors(form.newsCategories) }}#}

      {#<div class="col-sm-4">#}
        {#&#123;&#35; Génération de l'input. &#35;&#125;#}
        {#{{ form_widget(form.newsCategories, {'attr': {'class': 'form-control'}}) }}#}
      {#</div>#}
    {#</div>#}


    {#&#123;&#35; Génération du label + error + widget pour Image&#35;&#125;#}
  {#<div class="form-group">#}
      {#&#123;&#35; Génération du label. &#35;&#125;#}
      {#{{ form_label(form.image, "Image de l'article", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}#}

      {#&#123;&#35; Affichage des erreurs pour ce champ précis. &#35;&#125;#}
      {#{{ form_errors(form.image) }}#}

      {#<div class="col-sm-4">#}
        {#<span class="btn btn-default btn-file">#}
          {#&#123;&#35; Génération de l'input. &#35;&#125;#}
          {#{{ form_widget(form.image, {'attr': {'class': ''}}) }}#}
        {#</span>#}
      {#</div>#}
    {#</div>#}


  {#&#123;&#35; Pour le bouton, pas de label ni d'erreur, on affiche juste le widget &#35;&#125;#}
  {#{{ form_widget(form.envoyer, {'attr': {'class': 'btn btn-primary'}}) }}#}

  {#&#123;&#35; Génération automatique des champs pas encore écrits.#}
     {#Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)#}
     {#et tous les champs cachés (type « hidden »). &#35;&#125;#}
  {#{{ form_rest(form) }}#}

  {#&#123;&#35; Fermeture de la balise <form> du formulaire HTML &#35;&#125;#}
  {#{{ form_end(form) }}#}


{% endblock %}







